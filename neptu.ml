(*

#use"neptu.ml";;


*)




let u1=abo "beaver_for_statement";;
let u2=abo "php_token";;
let u3=image (fun x->
  x.Half_dressed_module.naked_module
) u2;;

let g1=vfm "php_atomic_selector";;
let g2=image fst g1;;
let g3=List.filter (
   fun s->String.capitalize_ascii s=s
) g2;;
let g4=Ordered.diforchan Dictionary_order.dictionary_order g3;;

let tf s=
    if List.mem s ["Char";"Int";"Float"]
    then "of_"^(String.lowercase_ascii s)
    else String.lowercase_ascii s;;

let g5=image (fun s->(tf s,s)) (ofo g4);;
let owl=Total_ordering.product 
 Dictionary_order.dictionary_order 
 Total_ordering.standard;;
let g6=ofo(Ordered.diforchan owl g5);;
let g7=image (fun (a,b)->
 "let "^a^" s = make Php_projected_token."^b^" s;;"
) g6;;
let g8="\n\n\n"^(String.concat "\n" g7)^"\n\n\n";;

let g9=Explicit.image (fun (a,b)->
German_values_in_modules.replace_string 
 (German_wrapper.data()) ("Php_token."^b) ("Php_token."^a)
) g5;;

let g10=Explici





(*

let u1=Manage_lexed_data.get_data
["symblog";"phpbb"];;

let u2=Explicit.image Level_one.level_one u1;;

let u3=Explicit.image Option.unpack u2;;

let u4=Option.filter_and_unpack (fun (a,b,c)->
   if Positioned_php_token_list.is_empty c 
   then None 
   else Some(c)
) u3;;

let u5=List.hd u4;;

#use"Php_analizer/Beavers/beaver_for_statement.ml";;

Beaver_for_statement.parser u5;;

*)

(*
let s1="00:00:10,996 --> 00:00:13,198";;
let n1=String.length s1;;
let u1=Ennig.doyle (
  fun j->(j,String.get s1 j)
) 0 (n1-1);;


let u1=Int_uple.list_of_pairs 44;;
let u2=List.filter (fun (x,y)->x*y*(y*y-x*x)=2016) u1;;


let u1=Int_uple.list_of_pairs 250;;
let u3=image (fun (x,y)->(x*y*(y*y-x*x),(x,y))) u1;;
let u4=ofo(Tidel2.diforchan u3);;


let u4=List.filter (fun (m,(x,y))->) u3;;


let v1=(ennig 1 6)@[8;9];;
let v2=ennig 1 1000;;

*)


(*
exception Uu_error;;
exception Vv_error;;
exception Ww_error;;


let ff x=Memoized.small usual_son_for_list [x] 20;;
let gg n=Memoized.small usual_son_for_list [p12] n;;


let old_uu x=let l=sons x in if List.length(l)<>2 then raise(Uu_error) else List.nth l 0;;
let old_vv x=let l=sons x in if List.length(l)<>2 then raise(Vv_error) else List.nth l 1;;
let old_ww x=let l=sons x in if List.length(l)<>1 then raise(Ww_error) else List.nth l 0;;
let uu=enhance old_uu;;
let vv=enhance old_vv;;
let ww=enhance old_ww;;
*)

(*
let long_base=
  "/Users/ewandelanoy/Documents/Web_Projects/Nand_to_Tetris/";;

let long_name=long_base^"nand2tetris_again";;

let preliminaries=Explicit.image Unix_command.hardcore_uc
[
  "mkdir -p "^long_name;
  "rm -rf "^long_name^"/*";
  "cp -R "^long_base^"nand2tetris/* "^long_name^"/";
];;

let dir=Directory_name.of_string long_name;;

let u1=More_unix.complete_ls_with_nondirectories_only dir;;

let u2=image (
  fun ap->
  let old_s=Absolute_path.to_string ap in
  let new_s=Replace_inside.replace_inside_string (" ","\\ ") old_s in
  (ap,new_s)
) u1;;

let u3=Ordered_string.diforchan(image (fun (ap,s)->Father_and_son.son s '.'  )u2);;

let u4=Option.filter_and_unpack (
  fun (ap,s)->
    let (t1,t2)=Father_and_son.father_and_son s '.' in
    if List.mem t2 ["gif";"out";"pdf";"xml";"html";"DS_Store";"txt"]
    then None
    else let new_s=t1^"_"^t2^".txt" in
         Some("mv "^s^" "^new_s)
) u2;;

let u5=Explicit.image Unix_command.hardcore_uc u4;;
*)


(*
let u1=[
  238;1043;1077;1927;1931;1967;
  1283;1273;1244;1389;1386;1396;1407;1460;1459;1880;1885;
  1927;1931;1967;
  2001;2015;2016;2022;2798;
  3746;3822;
  3141;3745;3750;3820;3834;3800;3983;3921;3934;
  4106;4483;4771;
  5273;5702;5732;5771
];;

let u2=ofo(Tidel.diforchan u1);;

let dir="/Users/ewandelanoy/Documents/Giulio/";;

let writer i=
  let si=string_of_int i in
  "/Applications/cpdf -scale-to-fit a4portrait "^dir^"p"^si^".pdf -o "^dir^"p_"^si^".pdf";;

let u3=Ennig.doyle writer 1 14;;
let act1=Explicit.image Unix_command.hardcore_uc u3;;

let act2=More_coherent_pdf.merge
   ~rootdir:"/Users/ewandelanoy/Documents/Giulio/"
   ~pdfname:"p"
   ~interval:(1,14);;

*)   


(*

let dir=Directory_name.of_string "/Users/ewandelanoy/Documents/Giulio/";;
let u1=More_unix.complete_ls dir;;
let u2=image (fun ap->(ap,Absolute_path.to_string ap) ) u1;;
let u3=List.filter(
   fun (ap,s)->not(List.mem s
     ["/Users/Ewandelanoy/Documents/Giulio/.DS_Store";                         
      "/Users/Ewandelanoy/Documents/Giulio/"] 
   )
) u2;;

let first_index s=
   let i1=Substring.leftmost_index_of_in "-" s in
    let i2=Substring.leftmost_index_of_in_from "-" s (i1+1) in
    let t=Cull_string.interval s (i1+1) (i2-1) in
    (int_of_string t);;

let indexes=ofo(Tidel.diforchan(image (fun (ap,s)->first_index s) u3));;    
let whole=
     let a=List.hd(indexes) and b=List.hd(List.rev indexes) in
     Ordered.S(Ennig.ennig a b);;
let holes=Tidel.lemel whole (Ordered.S indexes);;

let u4=image (
  fun (ap,s)->
    let j=find_index(first_index s) indexes in
    let base=Father_and_son.father s '/' in
    let new_s=(base)^"/isacruz_"^(string_of_int(j))^".pdf" in
    "cp "^s^" "^new_s
) u3;;

let u5=Explicit.image Unix_command.hardcore_uc u4;;

let u6=More_coherent_pdf.merge
   ~rootdir:"/Users/ewandelanoy/Documents/Giulio/"
   ~pdfname:"isacruz"
   ~interval:(1,563);;


let z5=List.filter (fun (ap,s)->List.mem (first_index s) [516;519;534;537]) u3;;
let z6=image fst z5;;

let  check1=List.filter (
  fun (ap,s)->not(Substring.begins_with 
    s "/Users/Ewandelanoy/Documents/Giulio/uva."
  )
) u3;;

let  check2=List.filter (
  fun (ap,s)->not(Substring.ends_with 
    s ".pdf"
  )
) u3;;



*)













(*
let dir="/Users/ewandelanoy/Documents/Firpo/";;

let z1=More_coherent_pdf.merge
   ~rootdir:"//Users/ewandelanoy/Documents/Firpo/"
   ~pdfname:"p"
   ~interval:(1,23);;

let u1=Ennig.doyle (fun j->
  let sj=string_of_int j in
  "/Applications/cpdf -scale-to-fit a4portrait "^
  dir^"p"^sj^".pdf -o "^dir^"p_"^sj^".pdf"
) 1 23;;   

let u2=image Unix_command.hardcore_uc u1;;
*)

(*
let u1=[
  636;643;617;628;627;605;624;653;
  575;589;595;
  760;746;768;725;727;713;
  811;803;848;859;818;809
];;

let u2=ofo(Tidel.diforchan u1);;
*)
(*
let ap=Absolute_path.of_string "/Users/ewandelanoy/Documents/html_files/Translations/membership_translated.txt";;
let z1=Io.read_whole_file ap;;
let i1=Substring.leftmost_index_of_in "OCTOBERR" z1;;

let z2=itv z1 i1 (i1+1000);;

let act1=Replace_inside.replace_several_inside_file
[
  ("a\204\128","\195\160");
  ("a\204\130","\195\162");
  ("c\204\167","\195\167");
  ("e\204\128","\195\168");
  ("e\204\129","\195\169");
  ("e\204\130","\195\170");
  ("e\204\136","\195\171");
  ("o\204\130","\195\180");
  ("u\204\130","\195\187");
  ("C\204\167","\195\135");
  ("E\204\129","\195\137");
]
ap;;

*)





(*
type wrapped_int=Wr of int;;


let print_out_wrapped_int (fmt:Format.formatter) (Wr i)=
   Format.fprintf fmt "@[<1>%s%s@<1>%s@]" 
   "\xe3\x80\x90" 
   (" "^(string_of_int i)^" ")  
   "\xe3\x80\x91";;  

#install_printer print_out_wrapped_int;;


let example1=Wr 7;;
let example2=print_string(print_wrapped_int example1);;
*)

(*

let print_out_wrapped_int (fmt:Format.formatter) (Wr i)=
   Format.fprintf fmt "[@<1>%s%s@<2>%s@]" 
   "\xe3\x80\x90" 
   (" "^(string_of_int i)^" ")  
   "\xe3\x80\x91";;  

#install_printer print_out_wrapped_int;;

let u1=Manage_lexed_data.get_data ["symblog";"phpbb"];;

let old_u2=Explicit.image Php_parser_homomorphism.star Beaver_for_statement.parser u1;;

let dummy=Positioned_php_token_list.print;;
*)


(*

let h1=
{Positioned_php_token_list.contained=
Image.image
(fun (x,y)->Positioned_php_token.PPL(x,y))
[(Php_token.Constant (Php_constant_token.Kwd Php_keyword.T_ECHO),                                                                                 ({Lexing.pos_fname =                                                                                                                        
       "/Users/Ewandelanoy/Documents/Sites/Symblog/Symblogproject/Vendor/Symfony/Symfony/Src/Symfony/Component/Templating/Tests/Fixtures/Templates/foo.php";
      pos_lnum = 1; pos_bol = 0; pos_cnum = 7},
     {Lexing.pos_fname =
       "/Users/Ewandelanoy/Documents/Sites/Symblog/Symblogproject/Vendor/Symfony/Symfony/Src/Symfony/Component/Templating/Tests/Fixtures/Templates/foo.php";
      pos_lnum = 1; pos_bol = 0; pos_cnum = 10}));
   (Php_token.Variable "$foo",
    ({Lexing.pos_fname =
       "/Users/Ewandelanoy/Documents/Sites/Symblog/Symblogproject/Vendor/Symfony/Symfony/Src/Symfony/Component/Templating/Tests/Fixtures/Templates/foo.php";
      pos_lnum = 1; pos_bol = 0; pos_cnum = 12},
     {Lexing.pos_fname =
       "/Users/Ewandelanoy/Documents/Sites/Symblog/Symblogproject/Vendor/Symfony/Symfony/Src/Symfony/Component/Templating/Tests/Fixtures/Templates/foo.php";
      pos_lnum = 1; pos_bol = 0; pos_cnum = 15}));
   (Php_token.External_echo "\n",
    ({Lexing.pos_fname =
       "/Users/Ewandelanoy/Documents/Sites/Symblog/Symblogproject/Vendor/Symfony/Symfony/Src/Symfony/Component/Templating/Tests/Fixtures/Templates/foo.php";
      pos_lnum = 1; pos_bol = 0; pos_cnum = 16},
     {Lexing.pos_fname =
       "/Users/Ewandelanoy/Documents/Sites/Symblog/Symblogproject/Vendor/Symfony/Symfony/Src/Symfony/Component/Templating/Tests/Fixtures/Templates/foo.php";
      pos_lnum = 1; pos_bol = 0; pos_cnum = 19}))]
};;

let h2=Option.find_really (fun x->x.Beaver_for_statement.name="echo2") 
(!(Beaver_for_statement.current_data_list));;

let bad1=Beaver_for_statement.classical_parser h2 h1;;

let elt=h2 and l=h1;;
let trmt1=Termite.of_string elt.Beaver_for_statement.unadbriged_content;;
let opt2=Termite.parse trmt1 l;;
let (l2,cr2,peurrest)=Option.unpack opt2;;
let cata=elt.Beaver_for_statement.catalyser;;
let catalyser_check=(
        if cata=""
        then true
        else (Termite.parse (Termite.of_string cata) peurrest)<>None
);;

*)

(*
let some_value=5;;

module Boogie=struct

let b=6;;

module Woogie=struct

let parker=7;;

module Andrew=struct

let d=8;;

let first_user=d+1;;

end;;

let second_user=Andrew.d+2;;

let fleury=9;;

end;;

let third_user=Woogie.Andrew.d+3;;

let burp=10;;

end;;



let fourth_user=Boogie.Woogie.Andrew.d+3;;


let g=48+Boogie.Woogie.parker;;
let h=49+some_value;;

*)

(*

let f x=match x.Ocaml_gsyntax_item.category with                                                                     
  | Ocaml_gsyntax_category.Type
  | Ocaml_gsyntax_category.Exception->(1,x)
  | Ocaml_gsyntax_category.Module_opener->(2,x)
  | Ocaml_gsyntax_category.Module_closer->(3,x)
  | Ocaml_gsyntax_category.Module_inclusion->(4,x);;

module Mood=struct

type mytype= A |B |C |D |E;;

end;;

let f x=match x with Mood.A|Mood.B|Mood.C->(1,x) |Mood.D->(2,Mood.D) |Mood.E->(3,Mood.E);;


module Weak=struct
let e=6;;
end;;

*)




(*
let z1=(!(Unix_command.accu));;
let z2=List.rev z1;;

"ocamlc -bin-annot -g  str.cma unix.cma  -o debugger.d.cmo -c debugger.ml";
"ocamlopt -bin-annot -g str.cmxa unix.cmxa  -o debugger.ocaml_debuggable ";
 *)


(*
let mdata=German_wrapper.data();;
let tgts=German_wrapper.up_to_date_targets();;

let _=Alaskan_remove_debuggables.rd German_constant.root mdata;;
let dbg=Debugger_name.debugger_name;;
let dir=German_constant.root;;
let rdir=German_directories.from_data mdata;;
let ap=Find_suitable_ending.find_file_location dir rdir 
	     (dbg^".ml");;
let hm=Half_dressed_module.of_path_and_root ap dir;;
let mdata2=German_modify_modulesystem.recompute_module_info mdata hm;;
let tgt=Ocaml_target.debuggable hm;;

let bad1=Alaskan_make_ocaml_target.make_nontoplevel German_constant.root
	(mdata2,tgts) tgt;;
*)

(*
let l=Alaskan_ingredients_for_ocaml_target.ingredients_for_ocaml_target
   mdata2 tgt;;
let v0=(true,(mdata2,tgts));;
let v1=Alaskan_make_ocaml_target.unit_make dir v0 (List.nth l 0);;
*)

(*
let bad2=Alaskan_make_ocaml_target.unit_make dir v1 (List.nth l 1);;
*)

(*
let (bowl,(mdata,tgts))=v1 and tgt=List.nth l 1;;

let see1=Alaskan_make_ocaml_target.is_up_to_date dir tgts tgt;;
let l_cmd=Alaskan_command_for_ocaml_target.command_for_ocaml_target dir mdata tgt;;


  let temp1=Image.image Unix_command.uc (cmd_for_tgt dir mdata tgt) in 
  if List.for_all (fun i->i=0) temp1
  then let opt_tgt=(if Ocaml_target.is_a_debuggable tgt 
                    then None 
                    else (Some tgt)) in
       let tgts2=Option.add_perhaps opt_tgt tgts in
        match Ocaml_target.ml_from_lex_or_yacc_data tgt with
       None->(true,(mdata,tgts2))
       |Some(mlx)->
                   let mdata2=Alaskan_force_modification_time.update dir mdata mlx in
                   (true,(mdata2,tgts2))        
  else (false,(mdata,tgts));;
*)

(*
let txt1=Self_contained_module_copy.unsharped_content (hmx "php_lexer");;

let see1=Substring.occurrences_of_in " 18 ->" txt1;;
let i1=List.hd(see1);;
let see2=itv txt1 i1 (i1+200);;

let nm1=Naked_module.of_string "Positioned_php_token_list";;
let nm2=Naked_module.of_string "Scp_positioned_php_token_list";;

let txt2=Look_for_module_names.change_module_name_in_string
   nm1 nm2 txt1;;

let see3=Substring.occurrences_of_in " 18 ->" txt2;;
let i2=List.hd(see3);;
let see4=itv txt2 i2 (i2+200);;

let bad1=Outside_comments_and_strings.good_substrings txt1;;
let tag1=Option.find_really (fun (i,j,t)->i>=i1) bad1;;

German_pervasives.sd;;


let bad1=Look_for_module_names.indices_in_string txt1;;

let tag1=List.filter (fun (x,y,z)->Substring.is_a_substring_of " 18 ->" z ) bad1;;
*)

(*

let g1=hmx "please_test_me";;
let g2=Self_contained_module_copy.self_contained_module_copy "Sc_" g1;;

let ap=Absolute_path.of_string "debugger.ml";;
let act1=Io.erase_file_and_fill_it_with_string ap g2;;



*)

(*
Unix_command.hardcore_mode:=true;;

let dir=Directory_name.of_string(
"/Users/ewandelanoy/Documents/OCaml/Idaho"
);;

German_update_copied_compiler.ucc dir;;
*)

(*
`
let dir1=German_constant.root;;

let g1=More_unix.complete_ls_with_nondirectories_only dir1;;
let g2=image Absolute_path.to_string g1;;
let g3=List.filter (
  fun s->List.for_all
  (fun t->not(Substring.begins_with s t))
  [
    "/Users/Ewandelanoy/Documents/OCaml/Ordinary/_build";
    "/Users/Ewandelanoy/Documents/OCaml/Ordinary/Forgotten"
  ]
) g2;;
let g4=List.filter (
  fun s->List.for_all
  (fun t->not(Substring.ends_with s t))
  [
    ".ml";".mli";".mll";".mly";".merlin";".md";".txt"
  ]
) g3;;


*)

(*
let g1=dbel "shell_command";;
let g2=image (fun hm->
Mlx_ended_absolute_path.to_absolute_path
(Mlx_ended_absolute_path.join hm Ocaml_ending.Ml))
g1;;
let g3=Image.image (fun ap->
   Replace_inside.replace_inside_file
   ("Shell_command.announce_and_do","Unix_command.uc")
   ap
) g2;;
*)

(*
let z1=(!(German_wrapper.Private.directories_ref));;

let z2=image (
  fun sd->let s=Subdirectory.connectable_to_subpath sd;;
  "mv "^s^"*.cm* _build"
) z1;;
let z3=Explicit.image Sys.command z2;;

let z3=Explicit.image Sys.command
["mv *.cm* _build"; "mv Country/Alaska/*.cm* _build";                             
 "mv Country/Germany/*.cm* _build"; "mv Creators/*.cm* _build";                
   "mv GParser/*.cm* _build"; "mv Generic_syntax_types/*.cm* _build";
   "mv Global_variables/*.cm* _build"; "mv Makefile_makers/*.cm* _build";
   "mv Ocaml_analysis/*.cm* _build"; "mv Optional/*.cm* _build";
   "mv Ordered_Lists/*.cm* _build"; "mv Php_analizer/*.cm* _build";
   "mv Php_analizer/Beavers/*.cm* _build";
   "mv Php_analizer/Php_syntax_types/*.cm* _build";
   "mv Preprinters/*.cm* _build";
   "mv Test_directory6/Test_directory7/Test_directory2/*.cm* _build"];;



*)


(*
let z3=String.concat " " (List.flatten z2);;

let z4=German_data.inside_files (German_wrapper.data());;
let z5=image Absolute_path.to_string z4;;
let z6=String.concat " " ("git add"::z5);;
*)

(*

let z1=muv "Sys.command";; 
let z2=List.filter (
  fun t->t.Half_dressed_module.naked_module <> "unix_command"
) z1;;

let z3=image (fun hm->
Mlx_ended_absolute_path.to_absolute_path
(Mlx_ended_absolute_path.join hm Ocaml_ending.Ml))
z2;;



let z4=image (fun ap->
Replace_inside.replace_inside_file
("Sys.command","Unix_command.uc") ap
)z3;;

*)

(*

let g1=Directory_name.of_string 
"/Applications/Visual Studio Code.app/Contents/Resources";;

let g2= More_unix.complete_ls_with_nondirectories_only g1 ;;

let g3=image Absolute_path.to_string g2;;

let g4=List.filter 
  (fun x->Substring.is_a_substring_of ".fr." x)
g3;;

let g5=image(
   fun x->let i=Substring.leftmost_index_of_in ".fr." x;;
    (itv x 1 (i-1),Cull_string.cobeginning (i+3) x)
) g4;;

let g6=Explicit.image(
   fun (s1,s2)->
      let temp=Option.filter_and_unpack (
         fun z->
            if (Substring.begins_with z s1)&&(Substring.ends_with z s2)
            then let t=itv z (String.length(s1)+1) (String.length(z)-String.length(s2));;
                 Some(t)
            else None
      ) g3;;
      (temp,s1,s2)
) g5;;

let g7=List.filter (fun (l,s1,s2)->not(List.mem "." l)) g6;;

let g8=image(
  fun (l,t1,t2)->
  let s1=Str.global_replace (Str.regexp_string " ") "\\ " t1
  and s2=Str.global_replace (Str.regexp_string " ") "\\ " t2;; 
  "cp "^s1^"."^s2^" "^s1^".fr."^s2
) g6;;

let g9=List.hd g8;;

let act=image Sys.command g8;;

let check1=List.filter (
   fun (s1,s2)->not(Substring.ends_with s1 ".nls")
) g5;;

let g10=image (fun ap->(ap,Absolute_path.to_string ap)) g2;;

let g11=List.filter 
  (fun (ap,x)->Substring.is_a_substring_of ".fr." x)
g10;;

let g12=Explicit.image(
   fun (ap,x)->
   Replace_inside.replace_inside_file
   (".nls\",{",".nls.fr\",{") ap
) g11;;


let g13=image(
  fun (t1,t2)->
  let s1=Str.global_replace (Str.regexp_string " ") "\\ " t1
  and s2=Str.global_replace (Str.regexp_string " ") "\\ " t2;; 
  (s1,s2,Absolute_path.of_string(s1^".fr."^s2))
) g5;;

*)



(*
let xaa=7;;

let y=xaa+1;;

let g1=Absolute_path.of_string 
"/Users/ewandelanoy/Documents/html_files/Wilhelm/wilhelm_main.html";;
let text1=Io.read_whole_file g1;;
let stext1=itv text1 1 1000;;

let g2=Absolute_path.of_string 
"/Users/ewandelanoy/Documents/html_files/Wilhelm/wilhelm_01.html";;
let text2=Io.read_whole_file g2;;
let stext2=itv text1 1 1000;;

let u1=doyle (fun i->"w"^(string_of_int i)^".pdf") 1 29;;
let u2=String.concat " " u1;;

let soi i=let s=string_of_int i;; if i<10 then "0"^s else s;;


let g2=doyle (
   fun i->
    let s=soi i;;
   ("<a href=\"http://strobertbellarmine.net/wilhelm_scannell_"^s^".html",
    "<a href=\"wilhelm_"^s^".html")
) 1 19;;

let act1=Replace_inside.replace_several_inside_file g2 g1;;

let g3=doyle (
   fun i->
    let s=string_of_int i and t=soi(19+i);;
   ("<a href=\"http://strobertbellarmine.net/wilhelm_scannell_2_"^s^".html",
    "<a href=\"wilhelm_"^t^".html")
) 1 7;;

let act2=Replace_inside.replace_several_inside_file g3 g1;;

let g4=(
  "<a href=\"http://strobertbellarmine.net/index.htm\">Home</a>",
  "<a href=\"wilhelm_main.html\">Home</a>"
);;

let g5=doyle (fun k->
   let s=soi k;;
   Absolute_path.of_string 
   ("/Users/ewandelanoy/Documents/html_files/Wilhelm/wilhelm_"^s^".html")
) 1 26;;

let act3=image (Replace_inside.replace_inside_file g4) g5;;




(*

let z1=German_wrapper.data();;
let z2=image Modulesystem_data.name z1;;
let z3=image Half_dressed_module.naked_module z2;;
let z4=image (fun (Naked_module.N s)->s) z3;;
let z5=big_head 20 z4;;



let g1=Directory_name.of_string "~/.opam/";;
let g2=More_unix.complete_ls_with_nondirectories_only g1;;
let g3=image Absolute_path.to_string g2;;
let g4=List.filter (fun s->Substring.is_a_substring_of "erlin" s) g3;;

*)



(*

let zz i=
   let si=string_of_int(i)
   and sii=string_of_int(i+1)
   and siii=string_of_int(i+2);;
  "pre_level"^si^"=polrem(level"^siii^",level"^sii^",a)\n"^
  "level"^si^"=normalize(pre_level"^si^")";;

let u1=doyle (fun k->12-k) 1 11;;
let u2=image zz u1;;
let u3=String.concat "\n\n" u2;;
let u4="\n\n\n"^u3^"\n\n\n";;
print_string u4;;



*)


(*


let z1=Io.read_whole_file(
Absolute_path.of_string "/Users/ewandelanoy/Documents/OCaml/Ordinary/Remembered/aztec2.ml"
);;
let z2=Cull_string.coending 2 z1;;
let z3=Str.split (Str.regexp_string"\n") z2;; 
let z4=image (Cull_string.cobeginning 3) z3;;
let z5=image (Str.split (Str.regexp_string" ")) z4;; 
let z6=image (fun l->"cp "^(List.nth l 1)^" "^(List.nth l 0) ) z5;;
let z7=String.concat "\n" ("\n\n\n"::(z6@["\n\n\n"]));;
print_string z7;;

let tower="/Users/ewandelanoy/Documents/Web_Projects/Patientcare_CakePHP/Control_Tower/";;

let z8=image (fun l->
   let s1=List.hd l;;
   let s2=tower^(Cull_string.cobeginning 7 s1);;
   let s3=Cull_string.cobeginning 86 s2;;
   let s4=List.hd(Str.split (Str.regexp_string"_") s3);;
   let s5=String.capitalize(Cull_string.coending 1 s4);;
   (Absolute_path.of_string s2,s5)
) z5;;

let zz s="<nav class=\"large-3 medium-4 columns\" id=\"actions-sidebar\">\n    <?= $this->Element('actions',array(\n       'type'=>'"^s^"',\n       'typePlural'=>'"^s^"s'\n    )); ?>\n</nav>";;

let z9=image (fun (ap,t)->
   Replace_inside.overwrite_and_dump_markers_inside_file
   (Overwriter.of_string (zz t))
   ("<nav","nav>")
   ap
) z8;;




*)

(*


let dir=Directory_name.of_string "/Users/ewandelanoy/Documents";;
let u1=More_unix.all_files_with_endings dir [".tex"];;
let u2=image Absolute_path.to_string u1;;
let u3=List.filter (
   fun s->List.exists(fun t->Substring.is_a_substring_of t s) ["aTeX"]
) u2;;

let g1=u2.Positioned_php_token_list.contained;;
let g2=List.nth g1 0;;
let g3=List.nth g1 1;;
let g4=List.nth g1 2;;

let g5=image (fun (Positioned_php_token.PPL(x,y))->(x,y)) g1;;


*)


(*

let chan=open_in (Manage_lexed_data.Private.marshaled_file_for_item "data1");;
let u1=((Marshal.from_channel chan):Positioned_php_token_list.t list) ;;
close_in chan;;


#use"Php_analizer/Beavers/beaver_for_statement.ml";;

let tt1=Explicit.image (
  fun l->match Php_parser_homomorphism.star parser l with
   None->(if Positioned_php_token_list.is_empty l then None else Some(l))
  |Some(_,_,l2)->(if Positioned_php_token_list.is_empty l2 then None else Some(l2))
) old_u1;;
let new_u1=Option.filter_and_unpack (fun x->x) tt1;;

let u2=List.hd new_u1 ;;

#use"Php_analizer/Beavers/beaver_for_statement.ml";;
let u3=Php_parser_homomorphism.star parser u2;;
let (u4,u5,u6)=Option.unpack u3;;
let u7=Positioned_php_token_list.is_empty u6;;
u6;;





let old_u1=new_u1;;

let g1= "<?php id ( variable [;;teger ] ) ? (int) variable [;;teger ] :;;teger";;
let sg1="id ()         ? _l_ no_ternary _r+_ : no_semicolon";;

let t1=Termite.of_string sg1;;
let l1=Php_lexer.parse_string g1;;
let dbg1=Termite.parse t1 l1;;
let dbg2=Termite_reverse_parse.rp t1 l1;;
let (w1,w2,w3,w4)=dbg2;;

let s1="<?php <<<ABC\nthey woke up\nABC;\n2";;
let g1=Php_lexer.parse_string s1;;
let g2=g1.Positioned_php_token_list.contained;;
let g3=image Positioned_php_token.snd g2;;




*)

(*

variable = id ( variable [;;teger ] ) ? (int) variable [;;teger ] :;;teger ;

let z1=Php_lexer.parse_string "<?php (bool)";;
let z2=Positioned_php_token_list.hd z1;;

*)


(*


German_wrapper.Private.printer_equipped_types_ref;;

let u1=Chronometer.it Manage_lexed_data.get_data ["symblog";"phpbb"];;
let see1=Chronometer.duration_of_last_computation();;


let u2=Explicit.image (fun x->(x,Level_one.level_one x)) u1;;

let viz1=Explicit.filter(fun (x,y)->y=None) u2;;
let u3=Explicit.image (fun (x,y)->
  let (a,b,c)=Option.unpack y;;
  (x,a,b,c) ) u2;;
let u4=Explicit.filter (fun (x,a,b,c)->c<>Positioned_php_token_list.empty) u3;;
let u5=image (fun (x,a,b,c)->c) u4;;

let chang=open_out (Manage_lexed_data.Private.marshaled_file_for_item "data1");;
(Marshal.to_channel chang u5 [];close_out chang);;

let chan=open_in (Manage_lexed_data.Private.marshaled_file_for_item "data1");;
let v1=((Marshal.from_channel chan):Positioned_php_token_list.t list) ;;
close_in chan;;


let u1=Manage_lexed_data.get_data ["symblog";"phpbb"];;

let old_u2=Explicit.image Php_parser_homomorphism.star Beaver_for_statement.parser u1;;

*)


(*

let commentless_lexer t=
  Positioned_php_token_list.filter (fun ptok->
   let tok=Positioned_php_token.fst ptok;;
   not(Php_token.is_a_comment tok)
)(Php_lexer.parse_file t);;


let u1=Directory_name.of_string
"/Users/ewandelanoy/Documents/Sites/Symblog/symblogproject/";;
let u2=More_unix.complete_ls u1;;
let u3=List.filter(
   fun ap->
     let s_ap=Absolute_path.to_string ap;;
     Substring.ends_with s_ap ".php"
) u2;;
let u4=Explicit.image (commentless_lexer) u3;;




let u5=Explicit.image (fun x->(x,Level_one.level_one x)) u4;;

let viz1=Explicit.filter(fun (x,y)->y=None) u5;;
let u6=Explicit.image (fun (x,y)->
  let (a,b,c)=Option.unpack y;;
  (x,a,b,c) ) u5;;
let u7=List.filter (fun (x,a,b,c)->c<>Positioned_php_token_list.empty) u6;;


let (_,_,_,u8)=List.hd u7;;

let u9=Positioned_php_token_list.hd u8;;
let (Positioned_php_token.PPL(u10,u11))=u9;;

*)

(*

#use"Php_analizer/Beavers/beaver_for_statement.ml";;

ea assignable4 "<?php +($melts*$down)";;



let t1=Termite.of_string assignable4;;
let l1=Php_lexer.parse_string "<?php +($melts*$down)";;
let dbg1=Termite.parse t1 l1;;
let dbg2=Termite_reverse_parse.rp t1 l1;;
let (u1,u2,u3,u4)=dbg2;;

let (Termite.Trmt trmt1)=t2;;
let v0=(([],trmt1,[],l2),None);;
let ff=Memoized.small Termite.pusher_for_parsing v0;;
let gg n=snd(ff n);;

let tok1=List.hd l1;;



*)

(*

#use"Php_analizer/Beavers/beaver_for_statement.ml";;

German_wrapper.Private.printer_equipped_types_ref;;
German_wrapper.declare_printer_equipped_type (hmx "positioned_php_token_list");;

German_wrapper.initialize();;
German_wrapper.Private.printer_equipped_types_ref;;

*)

*)

(*

let ea=Termite.eat;;

let assignable1="variable _l_ -> id _l_ () _r?_ _r*_";;

let barley1="_l_ id _u_ nmspc _rd_";;
let barley2="_l_ :: id _r?_";;
let assignable2=barley1^" "^barley2^" ()";;

let assignable=" _l_ "^(String.concat " _u_ " [assignable1;assignable2])^" _rd_";;

let s1="variable ##( assign )## "^assignable ^" ;";;

ea 
(assignable3 ^" ;") 
"<?php $amy->finds($x,$y)->beaver->eats($it)->again();";;

ea 
(" ##( assign )## "^assignable ^" ;") 
"<?php =$amy->finds($x,$y)->beaver->eats($it)->again();";;

ea 
("variable ##( assign )## "^assignable ^" ;") 
"<?php $bob=$amy->finds($x,$y)->beaver->eats($it)->again();";;

let s2=assignable^" ;";;
let t2=Termite.of_string s2;;
let l2=Php_lexer.parse_string "<?php $amy->finds($x,$y)->beaver->eats($it)->again();";;


let dbg4=Termite.parse t2 l2;;

let dbg5=Termite_reverse_parse.rp t2 l2;;
let (u1,u2,u3,u4)=dbg5;;

let (Termite.Trmt trmt1)=t2;;
let v0=(([],trmt1,[],l2),None);;
let ff=Memoized.small Termite.pusher_for_parsing v0;;
let gg n=snd(ff n);;


let (ret1,wh1)=List.hd trmt1;;

let (a1,a2,a3,a4)=fst(ff 1);;
let (b1,b2,b3,b4)=fst(ff 2);;





German_wrapper.Private.printer_equipped_types_ref;;
German_wrapper.declare_printer_equipped_type (hmx "positioned_php_token_list");;

German_wrapper.initialize();;
German_wrapper.Private.printer_equipped_types_ref;;

*)

(*



#use"Php_analizer/Beavers/beaver_for_statement.ml";;

let ea=Termite.eat;;



let barley1="_l_ _l_;;clude_like _u_ new _u_ @ _rd_ _r?_";;
let barley2="_l_ _l_ -> id () _r+_ _u_ _l_ loose= _r*_ _rd_";;
let assignable1="variable "^barley2;;

let barley3="_l_ id _u_ nmspc _rd_";;
let barley4="_l_ :: id _r?_";;
let assignable2=barley3^" "^barley4^" ()";;


let assignable3="variable _l_ -> id _l_ () _r?_ _r*_";;

let assignable=" _l_ "^(String.concat " _u_ " [assignable1;assignable2;assignable3])^" _rd_";;

let s1="variable ##( assign )##  "^assignable^"  ;";;

let dbg1=ea s1 "<?php $bob=$amy->finds($x,$y)->beaver->eats($it)->again();";;


let dbg2=ea assignable3 "<?php $amy->finds($x,$y)->beaver->eats($it)->again()";;

let dbg3=ea 
  (assignable^" ;")
   ("<?php $amy->finds($x,$y)->beaver->eats($it)->again();");;


let s2=assignable^" ;";;
let t2=Termite.of_string s2;;
let l2=Php_lexer.parse_string "<?php $amy->finds($x,$y)->beaver->eats($it)->again()";;

let dbg4=Termite.parse t2 l2;;

let dbg5=Termite.reverse_parse t2 l2;;

let (u1,u2,u3,u4)=Option.unpack dbg5;;

German_wrapper.declare_printer_equipped_type (hmx "positioned_php_token_list");;
German_wrapper.save_all();;

let dbg4=Termite.parse t2 



let t1=Termite.of_string s1;;

let g1=Termite.parse_string 



let dir1=Directory_name.of_string "~/.opam/packages/utop/utop.1.17/";;
let u1=More_unix.complete_ls dir1;;

let g1=Io.read_whole_file (Absolute_path.of_string "~/.bash_profile");;


let z1=see();;
let z2=Beaver_for_statement.should_be_empty();;
let (z3,z4,z5,z6)=List.hd z2;;


let u5=Explicit.image Level_one.level_one u4;;

let z1=Beaver_for_statement.see();;
let z2=Beaver_for_statement.should_be_empty();;
let (z3,z4,z5,z6)=List.hd z2;;

let term1=Termite.of_string z5;;
let lexed1=Php_lexer.parse_string z6;;
let res1=Termite.parse term1 lexed1;;
let res2=Termite.reverse_parse term1 lexed1;;

let z7=Option.unpack res2;;
let (z8,z9,z10,z11)=z7;;





*)


(*


let z1=Php_atomic_selector.all_constants;;

let part1=image 
  Php_token.projected_version Php_token.fixture_of_nonconstants;;

let z1=image (fun cst->
   let tok=Php_token.Constant(cst);;
    (Php_token.projected_version tok,Php_constant_token.to_string cst))
    Php_constant_token.all ;;
let z2=List.filter (fun (u,v)->u<>v) z1;;    
    
    
let part2=image  Php_token.projected_version z1;;

let part3=image snd Php_atomic_selector.special_list;;

let part4=image fst Php_short_selector.new_constants;;

let part5=
   ()
   @
   ()

let labelled_parts=[
   "nonconst",part1;
   "const",part2;
   "atomic",part3;
   "short",part4;
];;

let parts=image snd labelled_parts;;

let u1=image (fun x->(x,ofo(Tidel.diforchan(x))) ) parts;;
let check1=List.filter (fun (x,y)->hi(x)<>hi(y)) u1;;
let u2=image snd u1;;
let labelled_u2=image (fun ((x,y),z)->(x,z) ) (List.combine labelled_parts u2);;
let whole=ofo(Tidel.diforchan(List.flatten u2));;
let u3=image (
  fun w->
   (w,Option.filter_and_unpack (
     fun (j,l)->
       if List.mem w l
       then Some(j)
       else None
   ) labelled_u2)
) whole;;
let check2=List.filter (fun (w,l)->List.length(l)>1) u3;;






let whole=part1@part2;;

let;;dexed_whole=
   List.flatten (
   [
    image (fun x->(1,x)) part1;
    image (fun x->(2,x)) part2
   ]
   );;
let n1=hi;;dexed_whole;;   
let ordered_whole=ofo(Tidel.diforchan(whole));;
let u1=List.filter (
   fun x->Option.filter_and_unpack (fun ) (ennig 1 n1)
) ordered_whole;;


let check1=(hi(ofo(Tidel.diforchan(whole)))=hi(whole));;

*)


(*


let g1=["preprinter_example"; "php_parser"; "php_recognizer";                  "extract_left_block"; "php_recognize_block"; "php_short_selector";    
 "php_recognizer_homomorphism"; "php_constructible_recognizer";
 "termite"; "php_yuze_modifier"; "php_parser_homomorphism";
 "php_lexer"; "beaver_for_statement"; "level_one"];;
 
let g2=List.rev_map (fun x->"old_"^x) g1;; 

let g3=Explicit.image fg g2;;

Level_one.level_one;;




German_wrapper.declare_printer_equipped_type
(hmx "positioned_php_token_list");;



let g1=bel "positioned_php_token";;
let g2=image Half_dressed_module.naked_module g1;;
let g3=image Naked_module.to_string g2;;

let g3=
["preprinter_example"; "php_parser"; "php_recognizer";                  "extract_left_block"; "php_recognize_block"; "php_short_selector";    
 "php_recognizer_homomorphism"; "php_constructible_recognizer";
 "termite"; "php_yuze_modifier"; "php_parser_homomorphism";
 "php_lexer"; "beaver_for_statement"; "level_one"];;

let g4=am();;
let g5=List.filter (Substring.begins_with "old_") g4;;

let g6=image (fun x->(x,"old_"^x))


let g7=Explicit.image (fun (x,y)->ren x y) g6;;

let gg x=cf ("old_"^x) x;;


*)


(***********************************************************************************)

(*

let z1=Compute_all_ocaml_items.caoi (German_wrapper.data());;
let z2=List.filter(
        fun itm->
        let s=Ocaml_gsyntax_item.name itm;;
        let j=String.index(s)('.')+1;;
        (Cull_string.beginning (j-1) s)="Please_test_me"
) z1;;
let z3=image Ocaml_gsyntax_item.name z2;;


let z3=Find_value_descendants.fvd 
z1
"Please_test_me.Boogie.Woogie.Andrew.d";;

*)

(***********************************************************************************)

(*

let z1=German_wrapper.data();;
let z2=image Modulesystem_data.name z1;;
let z3=List.filter(
   fun hm->
    let nm=Half_dressed_module.naked_module hm;;
    Substring.is_a_substring_of "ango"
    (Naked_module.to_string nm)
) z2;;
let z4=List.hd z3;;
let z5=List.hd(List.filter (fun md->
   Modulesystem_data.name(md)=z4
) z1);;
let corrected_z4={Half_dressed_module.bundle_main_dir =                                   "/Users/ewandelanoy/Documents/OCaml/Ordinary";                       
 subdirectory = "Ocaml_analysis"; naked_module = "lingo"};;
let corrected_z5=
{                                                         
      Modulesystem_data.name =corrected_z4;
      ml_present =true;
      mli_present =false;
      mll_present =false;
      mly_present =false;
      ml_modification_time = Modulesystem_data.ml_modification_time(z5);
      mli_modification_time = 0.;
      mll_modification_time = 0.;
      mly_modification_time = 0.;
      needed_libraries=Modulesystem_data.needed_libraries(z5);
      direct_fathers=Modulesystem_data.direct_fathers(z5);
      all_ancestors=Modulesystem_data.all_ancestors(z5);
      needed_directories = [Subdirectory.SD "Ocaml_analysis"];
    };;

let corrected_z1=image (fun x->if x=z5 then corrected_z5 else x) z1;;

German_wrapper.Private.data_ref:=corrected_z1;;

German_wrapper.data()=corrected_z1;;

Modulesystem_data.rename1 corrected_z4 z5;;



*)

(*

let s1=Io.read_whole_file 
(Absolute_path.of_string "outside_comments_and_strings.ml");;
let s2=Cull_string.cobeginning 3301 s1;;

let z1=
   let (a,b,c)=Gparser_for_ocaml_language.data_for_prsr_for_comment;;
   Gparser_house_with_doors.hwd (a,b) c s2 1;;

let v0=
let (a,b,c)=Gparser_for_ocaml_language.data_for_prsr_for_comment;;
Gparser_house_with_doors.Private.starter_for_hwd (a,b) c s2 1;;  

let ff=Memoized.small   
  Gparser_house_with_doors.Private.pusher_for_hwd v0;; 
let gg n=snd(ff n);;   

let u1=doyle (fun k->(k,gg k)) 1 700;;
let u2=List.filter (
  fun (k,x)->x.Gparser_house_with_doors.Private.awaited_closer<>None
) u1;;
let u3=image fst u2;;
let u4=Listennou.connected_components_in_intlist u3;;

let s3=Cull_string.cobeginning 520 s2;; 

*)

(***********************************************************************************)



(***********************************************************************************)

(*


let s1=Io.read_whole_file 
(Absolute_path.of_string "outside_comments_and_strings.ml");;
let s2=Cull_string.cobeginning 3301 s1;;

let z1=Read_ocaml_files.Private.read1 s2;;
let z2=Gparser_apply.apply Gparser_for_ocaml_language.main_prsr s2 1;;
let z3=Gparser_apply.apply Gparser_for_ocaml_language.elt_prsr s2 1;;
let z4=Gparser_apply.apply Gparser_for_ocaml_language.prsr_for_comment s2 1;;
let z5=
   let (a,b,c)=Gparser_for_ocaml_language.data_for_prsr_for_comment;;
   Gparser_apply.Private.house_with_doors (a,b) c s2 1;;


*)

(*

let ordered_u2=ofo(Ordered_string.diforchan u2);;
let u4=image (fun x->(x,
  List.assoc x u3
) ) ordered_u2;;

let list_for_translation=
[
   ("09 ", '\t'); ("0A ", '\n'); ("20 ", ' '); ("23 ", '#'); ("28 ", '(');                                                                         ("29 ", ')'); ("2B ", '+'); ("2C ", ','); ("2D ", '-'); ("2E ", '.');                                                                        
   ("30 ", '0'); ("31 ", '1'); ("32 ", '2'); ("33 ", '3'); ("34 ", '4'); 
   ("35 ", '5'); ("36 ", '6'); ("37 ", '7'); ("38 ", '8'); ("39 ", '9'); 
   ("3A ", ':'); ("3D ", '='); ("3F ", '?'); ("42 ", 'B'); ("43 ", 'C'); 
   ("44 ", 'D'); ("47 ", 'G'); ("48 ", 'H'); ("49 ", 'I'); ("4B ", 'K'); 
   ("4C ", 'L'); ("4D ", 'M'); ("4E ", 'N'); ("50 ", 'P'); ("51 ", 'Q'); 
   ("52 ", 'R'); ("53 ", 'S'); ("54 ", 'T'); ("56 ", 'V'); ("57 ", 'W'); 
   ("59 ", 'Y'); ("5A ", 'Z'); ("5B ", '['); ("5D ", ']'); ("61 ", 'a'); 
   ("62 ", 'b'); ("63 ", 'c'); ("64 ", 'd'); ("65 ", 'e'); ("66 ", 'f'); 
   ("67 ", 'g'); ("68 ", 'h'); ("69 ", 'i'); ("6A ", 'j'); ("6B ", 'k'); 
   ("6C ", 'l'); ("6D ", 'm'); ("6E ", 'n'); ("6F ", 'o'); ("70 ", 'p'); 
   ("71 ", 'q'); ("72 ", 'r'); ("73 ", 's'); ("74 ", 't'); ("75 ", 'u'); 
   ("76 ", 'v'); ("77 ", 'w'); ("78 ", 'x'); ("79 ", 'y'); ("7A ", 'z'); 
   ("7E ", '~'); ("80 ", '\128'); ("84 ", '\132'); ("98 ", '\152'); ("99 ", '\153'); 
   ("9C ", '\156'); ("9D ", '\157'); ("A0 ", '\ya0'); ("A1 ", '\ya1'); ("A2 ", '\ya2'); 
   ("A4 ", '\ya4'); ("A5 ", '\ya5'); ("A6 ", '\ya6'); ("A8 ", '\ya8'); ("AB ", '\yab'); 
   ("AC ", '\yac'); ("B8 ", '\yb8'); ("B9 ", '\yb9'); ("BB ", '\ybb'); ("BF ", '\ybf'); 
   ("C2 ", '\yc2'); ("C5 ", '\yc5'); ("CE ", '\yce'); ("CF ", '\ycf'); ("E1 ", '\ye1'); 
   ("E2 ", '\ye2')
];;

let u5=List.filter (fun i->List.nth u2 (i-1)="80 ") (ennig 1 n1);;
let u6=image (fun i->(List.nth u2 (i),List.nth u2 (i+1)) ) u5;;
let u7=Tidel.diforchan u6;;
let u8=image (fun (x,y)->"80 "^x^y) (ofo u7);;
let u9=image (
   fun z->(z,Substring.leftmost_index_of_in z u1)
) u8;;
let u10=image (
  fun (z,k)->
    let a=(k+2)/3;;
    let b=min(a+100)(n1);;
    (z,itv txt1 (a-2) b)
) u9;;

let u9=image (fun l->(List.hd(l)<>("0A ", "\n"),l) ) u8;;
let u10=image (fun (bowl,l)->
   if bowl
   then let temp1=Listennou.constant_slices (fun t->List.mem(fst t) first_order) l;;
        image (fun z->(List.mem(fst (List.hd z)) first_order,z) ) temp1
   else [(bowl,l)]
) u9;;
let u11=List.flatten u10;;
let u12=image (fun (bowl,l)->
   if bowl
   then (true,ofo(Ordered.diforchan word_order l))
   else (false,l)
) u11;;

let example=Slow_copy_task.initialize_from_data
  (7822,
   "tribunem@tribunemicael.net",
   "/Users/ewandelanoy/Documents/",
   "~/private_html/",
   Directory_name.of_string "/Users/ewandelanoy/Documents/Amailh",
   "Remembered/task_keeper1");;


let ap=Absolute_path.of_string "Remembered/task_keeper1";;
Replace_inside.replace_several_inside_file
[
 (* "mpdykruvueaoqhkt010","mpdykruvueaoqhkt001"; *)
 "mpdykruvueaoqhkt012","mpdykruvueaoqhkt002";
] ap;;

let text1=Io.read_whole_file ap;;
let example2=Slow_copy_task.unarchive text1;;

let jeng=open_out "temp";;
output_string jeng u9;;
close_out jeng;;

let chang=open_in "temp";;
let buffer = Bytes.create 16;;
let count=really_input_string chang 3;;

exception Hexchar_exn of char;;

let;;t_of_hexchar c=
   try List.assoc c
   [
     ('0', 0); ('1', 1); ('2', 2); ('3', 3); ('4', 4); ('5', 5); 
     ('6', 6); ('7', 7); ('8', 8); ('9', 9);
     ('A', 10); ('B', 11); ('C', 12); ('D', 13); ('E', 14); ('F', 15)
   ]  
   with _->raise(Hexchar_exn(c));;

let;;t_of_hex s=
  let n=String.length(s) 
  and accu:=ref(0);;
  for i=1 to n do accu:=int_of_hexchar(String.get s (j-1))+16*(!accu) done;
  return(!accu);;
  
let z1=Charset.unix_filename_admissible_characters;;
let z2=Image.image (fun c->let s=String.make 1 c;; (s,s) ) 
  unix_filename_admissible_characters;;
  
let ioh=int_of_hex;;

let tf1 k=
  if k<=127 then [k] else
  if k<=2047 then let t=(k-128)/64;; [194+t;k-64*t] else
  if k<=4095 then let t=(k-2048)/64;; [224;160+t;k-1920-64*t] else
  if k<=8191 then let t=(k-4096)/64;; [225;128+t;k-3968-64*t] else
  if k<=k    then let t=(k-8192)/64;; [226;128+t;k-8064-64*t] else [];;
  
let tf2 k=
 (Printf.sprintf "%X" k,
  String.concat " " (image (Printf.sprintf "%x") (tf1 k)) )  
  ;;

let tf3 s=tf2(int_of_hex s);;  



*)

(*


let u1=Directory_name.of_string "~/Documents/html_files";;
let u2=More_unix.complete_ls_with_nondirectories_only u1;;
let u3=image Absolute_path.to_string u2;;


let u4=image Charset.unix_unknowns_in_string u3;;
let u5=ofo(Tidel.diforchan(List.flatten u4));;



let example=Slow_copy_task.initialize_from_data
  (7822,
   "tribunem@tribunemicael.net",
   "/Users/ewandelanoy/Documents/",
   "~/private_html/",
   Directory_name.of_string "/Users/ewandelanoy/Documents/html_files",
   "Remembered/task_keeper1");;

let act=Slow_copy_task.execute_all_steps example;;


let u6=image (fun t->
  let r1=Utf_eight.unicode_point t;;
  let r2=int_of_string("0x"^r1);;
  (t,r1,r2,Utf_eight.encode r2)
) u5;;

let u4=image Strung.explode u3;;
let u5=ofo(Tidel.diforchan(List.flatten u4));;
let u6=List.filter (
   fun c->
   (not(List.mem c Charset.unix_filename_admissible_characters))
   &&
   (not(List.mem c (image fst Charset.list_for_unix_rewriting)))
) u5;;
let u7=Explicit.filter(
  fun s->List.mem '\128' (Strung.explode s)
) u3;;

let u8=List.hd u7;;
let u9=itv u8 83 85;;

let example=Slow_copy_task.initialize_from_file (Absolute_path.of_string "Remembered/task_keeper1");;



let z1=example.Slow_copy_task.filenames;;
let (z2,z3)=List.partition Charset.is_unix_filename_admissible z1;;


example.Slow_copy_task.filenames<-(List.hd z3)::(example.Slow_copy_task.filenames);;

example.Slow_copy_task.filenames<-List.tl(example.Slow_copy_task.filenames);;

let act=Slow_copy_task.execute_all_steps example;;


let act=Slow_copy_task.execute_one_step example;;


let print (CR(a,b))=
  let s1=string_of_int(a.Lexing.pos_cnum)
  and s2=string_of_int(b.Lexing.pos_cnum);;
  "char_range("^s1^","^s2^")";;

let print_out (dummy:Format.formatter) x=
   Format.open_box 0;
   Format.print_string(print x);
   Format.close_box();;    


*)

(*
INSERT;;TO `mysql_table_fake_users` SELECT * FROM `mysql_table_users` 
WHERE (user_id>=302) AND (user_id<=377);

DELETE FROM `mysql_table_users` WHERE (user_id>=302) AND (user_id<=377);


INSERT;;TO `mysql_table_fake_users` SELECT * FROM `mysql_table_users` 
WHERE user_id=161;

DELETE FROM `mysql_table_users` WHERE user_id=161;

DELETE FROM `mysql_table_fake_users` WHERE user_id<=175;


204.12.207.34
*)
